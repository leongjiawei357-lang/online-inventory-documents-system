<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dashboard | Inventory System</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <h1>ğŸ  Home Dashboard</h1>
    <nav>
      <a href="index.html">Home</a>
      <a href="inventory.html">Inventory</a>
      <a href="documents.html">Documents</a>
      <a href="log.html">Activity Log</a>
      <button onclick="toggleTheme()">ğŸŒ“ Mode</button>
      <button onclick="logout()">ğŸšª Logout</button>
      <div id="adminInfo">Logged in as: <span id="adminName"></span></div>
    </nav>
  </header>

  <section>
    <h2>Welcome to the Inventory & Document Management System</h2>
    <p>This dashboard provides quick access to your inventory, document uploads, and activity log.</p>
    <ul>
      <li>ğŸ“¦ Manage inventory with SKU tracking.</li>
      <li>ğŸ“„ Upload and manage important documents.</li>
      <li>ğŸ•’ Review all actions in your activity log.</li>
      <li>ğŸ› ï¸ The website was developed by Brendan Jong & Leong Jia Wei</li>
      <li>âš™ï¸ Render Cloud database was established and managed by Leong</li>
    </ul>

    <!-- Real-time clock -->
    <div class="clock" id="clock"></div>

    <!-- Quick access buttons -->
    <div class="dashboard-buttons">
      <div class="dashboard-button" onclick="window.location.href='inventory.html'">ğŸ“¦ Inventory</div>
      <div class="dashboard-button" onclick="window.location.href='documents.html'">ğŸ“„ Documents</div>
    </div>

    <!-- Total users logged in today -->
    <div class="info-card">
      <h3>ğŸ§‘â€ğŸ§‘ Users Logged In Today</h3>
      <p id="totalUsers">0</p>
    </div>

    <!-- Recent activity log -->
    <div class="info-card">
      <h3>ğŸ•’ Recent Activity Log</h3>
      <table>
        <thead>
          <tr>
            <th>User</th>
            <th>Action</th>
            <th>Time</th>
          </tr>
        </thead>
        <tbody id="recentActivities"></tbody>
      </table>
    </div>

    <div id="summary" class="info-card" style="margin-top:18px;"></div>
  </section>

  <script src="script.js"></script>
  <script>
    // realtime clock
    function updateClock() {
      const now = new Date();
      const options = { weekday: 'short', year: 'numeric', month: 'short', day: 'numeric' };
      const dateStr = now.toLocaleDateString(undefined, options);
      const timeStr = now.toLocaleTimeString();
      document.getElementById('clock').textContent = `ğŸ“… ${dateStr} â° ${timeStr}`;
    }
    setInterval(updateClock, 1000);
    updateClock();

    // fetch dashboard data via script.js helper
    setInterval(() => { if (window.fetchDashboardData) window.fetchDashboardData(); }, 5000);
    if (window.fetchDashboardData) window.fetchDashboardData();
  </script>
</body>
</html>